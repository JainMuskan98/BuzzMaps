@startuml

actor User
actor Admin
actor Driver
participant "Login Page" as LP
participant "Application" as App
participant "Routes" as Routes
participant "Shifts" as Shifts
participant "Landmarks" as Landmarks
participant "Buses" as Buses
participant "Analytics Report" as AR
participant "Support" as Support
participant "Contact Drivers" as CD
participant "Maps" as Maps
participant "Personal Profile" as PP
participant "Bus Schedule" as BS
participant "Dashboard" as DS

User -> LP: Clicks on "Login" button
LP -> App: Sends user credentials
App -> LP: Returns acknowledgement of credentials
alt User is an admin
    LP -> App: Sends "admin" role
    App -> LP: Returns "Welcome, Admin" message
    
    Admin -> Routes: View routes
    Routes -> Admin: Returns routes
    Admin -> Routes: Add route
    Routes -> Admin: Returns success message
    
    Admin -> Shifts: View shifts
    Shifts -> Admin: Returns shifts
    Admin -> Shifts: Add shift
    Shifts -> Admin: Returns success message
    
    Admin -> Landmarks: View landmarks
    Landmarks -> Admin: Returns landmarks
    Admin -> Landmarks: Add landmark
    Landmarks -> Admin: Returns success message
    
    Admin -> Buses: View buses
    Buses -> Admin: Returns buses
    Admin -> Buses: Add bus
    Buses -> Admin: Returns success message
    
    Admin -> AR: View analytics report
    AR -> Admin: Returns analytics report
    
    Admin -> Support: View support tickets
    Support -> Admin: Returns support tickets
    Admin -> Support: Respond to support ticket
    Support -> Admin: Returns success message
    
    Admin -> CD: View contact information for drivers
    CD -> Admin: Returns contact information for drivers
    Admin -> CD: Edit contact information for drivers
    CD -> Admin: Returns success message
    
    Admin -> Maps: View map of routes and landmarks
    Maps -> Admin: Returns map
    Admin -> Users: View users
    Users -> Admin: Returns users
    Admin -> Users: Edit user
    Users -> Admin: Returns success message
    
else User is a regular user
    LP -> App: Sends "user" role
    App -> LP: Returns "Welcome, User" message
    User -> Routes: View routes
    Routes -> User: Returns routes
    User -> Routes: Search for routes
    Routes -> User: Returns filtered routes
    User -> Maps: View map of routes and landmarks
    Maps -> User: Returns map
    User -> PP: View personal profile
    PP -> User: Returns personal profile
    User -> BS: View bus schedule
    BS -> User: Returns bus schedule
    User -> DS: View dashboard
    DS -> User: Returns dashboard
    
else User is a driver
    LP -> App: Sends "driver" role
    App -> LP: Returns "Welcome, Driver" message
    Driver -> PP: View personal profile
    PP -> Driver: Returns personal profile
    Driver -> BS: View bus schedule
    BS -> Driver: Returns bus schedule
    Driver -> Maps: View map of routes and landmarks
    Maps -> Driver: Returns map
    Driver -> DS: View dashboard
    DS -> Driver: Returns dashboard
end

@enduml
